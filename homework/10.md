---
sidebar_position: 10
homework_number: 10
hide_table_of_contents: true
title: Homework 10 -- Multi-family Homes
---

**Skills Practiced:**

---

## Introduction
You'll analyze NYC housing development opportunities by working with 3 interconnected datasets to identify optimal locations for new housing. Your goal is to identify 2 types of development opportunities:
1. **Underutilized public property** that could be developed for housing
2. **Multi-family housing inventory** that could be acquired and improved

You'll evaluate these opportunities using key urban planning factors: proximity to schools for families and access to public transit for citywide connectivity.

You'll be working with 3 CSV files, 2 of which you've worked with before:

1. housing.csv, which you worked with in Homework 4 and 5 and has the following columns:
   - borough: The NYC borough (Manhattan, Brooklyn, Queens, Bronx, Staten Island)
   - zipcode: ZIP code of the property
   - address: Street address of the property
   - landuse: Type of land use (residential, commercial, etc.)
   - ownertype: Category of property ownership
   - lotarea: Total lot area in square feet
   - bldgarea: Total building area in square feet
   - latitude: Latitude coordinate of the property
   - longitude: Longitude coordinate of the property
2. schools.csv, which you worked with in Homework 5 and has the following columns:
    - schoolname: Name of the school
    - latitude: Latitude coordinate of the school
    - longitude: Longitude coordinate of the school
    - address: Street address of the school
    - city: City in which the school is located
    - zip: ZIP code of the school
    - percentasian, percentblack, percenthispanic, percentblackhispanic, percentwhite: Demographics (as percentage strings like "16%")
3. stations.csv, which represents NYC subway stations:
   - division: Transit division (BMT, IRT, IND)
   - line: Subway line name  
   - stopname: Station name
   - latitude: Latitude of the station
   - longitude: Longitude of the station

## Problem 1
Load the NYC stations data from the CSV file into a table. Define a table called `stations-table` with the appropriate column names and types.

## Problem 2
Create structured data types to represent development opportunities and analyze public property using recursion with transit accessibility.

Define a data type called `PropertyOpportunity` that contains:
- address: String
- zipcode: String  
- lot-area: Number
- building-area: Number
- distance-to-school: Number
- distance-to-transit: Number
- is-public: Boolean

## Problem 3
### Part A
Design a function called `is-underutilized-public` that takes a row from the housing table and returns true if:
1. The owner type is "C" (city-owned) OR "O" (other public), and
2. The building area is less than 10% of the lot area (severely underutilized)

### Part B
Design a function `calculate-transit-distance` that takes property coordinates and returns the distance to the nearest subway station using the `simple-distance` function you defined in Homework 5.

### Part C
Create a function `row-to-opportunity` that converts a housing table row into a `PropertyOpportunity`, calculating distances to both schools and transit.

## Problem 4
Build a neighborhood analysis tree structure to evaluate development suitability incorporating transit connectivity.
### Part A
Define a tree data type called `NeighborhoodTree` that is either:
- `leaf(zipcode :: String, opportunity-count :: Number, school-count :: Number, station-count :: Number)`
- `node(borough :: String, left :: NeighborhoodTree, right :: NeighborhoodTree)`

### Part B
Design a function `calculate-suitability-score` that takes opportunity-count, school-count, and station-count and returns: `(opportunity-count * 3) + school-count + (station-count * 2)` This weights development opportunities highest, gives moderate weight to transit access, and includes school proximity.

### Part C
Write a recursive function `max-suitability` that traverses a `NeighborhoodTree` and returns the highest suitability score found in any leaf.

### Part D
Create a function `find-best-zip` that recursively searches the tree and returns the zipcode of the leaf with the highest suitability score.

**elaine note: thinking of scrapping this problem, hw feels too long?*
## Problem 5
Create visualizations to display your development opportunity analysis and communicate findings to policymakers.
### Part A
From your `PropertyOpportunity` records, create a scatter plot that shows the relationship between transit accessibility and school proximity for public development sites.

Extract the `distance-to-transit` and `distance-to-school` values from your opportunities into separate lists called `transit-distances` and `school-distances`. Then, create a scatter plot called `opportunity-scatter` using these two distance lists, with transit distance on the x-axis and school distance on the y-axis. This will help visualize which public properties offer the best combination of transit and school access.

## Part B:
Using your `NeighborhoodTree` analysis, create a histogram of suitability scores across different areas.

Design a function `extract-suitability-scores` that traverses your neighborhood tree and returns a list of all the suitability scores from the leaf nodes. Then, create a histogram called `suitability-histogram` that shows the distribution of neighborhood suitability scores, helping identify how many areas fall into different development potential ranges.